<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Course Page</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="w-100">
    <div th:each="course: ${courses}">
    <div class="d-flex justify-content-between w-100" style="background: #514EAD; background: linear-gradient(135deg, #514EAD, #2CF7F7);">
    <h6 th:text="${course.course_name}" class="lead text-white py-3 px-5" style="font-weight: bold;"></h6>
    <h6 th:text="${course.instructor_name}" class="text-white mt-1 py-3 px-5"></h6>
    </div>
    <div class="d-flex justify-content-around w-100 p-2">
   
    <iframe id="video-frame" width="850" height="450" class="p-4" src="https://www.youtube.com/embed/eIrMbAQSU34">
    </iframe>
    <div class="accordion w-50 px-4 mt-3" id="myAccordion">
        <div class="accordion-item" style="border-color: #090909">
            <h2 class="accordion-header" onclick="loadVideo('eIrMbAQSU34')" id="headingOne">
                <div type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#collapseOne" style="background-color: white;">
                    <div class="d-flex justify-content-between w-100">
                    <div class="font-weight: bold;">Lecture 1 - Java Fundamentals</div>
                    <div class="mr-5 px-5 text-muted fw-light">5 modules</div>
                </div>
                </div>									
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#myAccordion">
                <div class="card-body">
                    <ol class="lh-lg">
                        <li>Course Outline</li>
                        <li>How Programming Languages Work</li>
                        <li>Reasons to learn Java</li>
                        <li>Installing a JDK ( Windows and Mac )</li>
                        <li>Your First Java Program - Hello World</li>
                    </ol>
                    <div class="d-flex flex-row-reverse">
                        <button type="button" class="btn btn-primary" id="btn-1" th:onclick="markAsDone(1)">Mark as done</button>
                        <input type="hidden" id="currentItem" value="1">
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item" style="border-color: #090909">
            <h2 class="accordion-header" onclick="loadVideo('Qgl81fPcLc8')" id="headingTwo">
                <div type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#collapseTwo" style="background-color: white;">
                    <div class="d-flex justify-content-between w-100">
                    <div class="font-weight: bold;">Lecture 2 - Variables, Booleans and Conditionals</div>
                    <div class="mr-5 px-5 text-muted fw-light">6 modules</div>
                </div>
                </div>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                <div class="card-body">
                    <ol class="lh-lg">
                        <li>Types of Variables</li>
                        <li>Debugging</li>
                        <li>Using Scanner</li>
                        <li>Comparison Operators</li>
                        <li>If-Else Conditions</li>
                    </ol>
                    <div class="d-flex flex-row-reverse">
                        <button type="button" class="btn btn-primary" id="btn-2" th:onclick="markAsDone(2)">Mark as done</button>
                        <input type="hidden" id="currentItem2" value="1">
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item" style="border-color: #090909">
            <h2 class="accordion-header" onclick="loadVideo('VRpHdSFWGPs')" id="headingThree">
                <div type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#collapseThree" style="background-color: white;">
                    <div class="d-flex justify-content-between w-100">
                    <div class="font-weight: bold;">Lecture 3 - Functions and Loops</div>
                    <div class="mr-5 px-5 text-muted fw-light">3 modules</div>
                </div>
                </div>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                <div class="card-body">
                    <ol class="lh-lg">
                        <li>Introduction to Functions and Methods</li>
                        <li>Built-in functions</li>
                        <li>For and while loops</li>
                    </ol>
                    <div class="d-flex flex-row-reverse">
                        <button type="button" class="btn btn-primary" id="btn-3" th:onclick="markAsDone(3)">Mark as done</button>
                        <input type="hidden" id="currentItem3" value="1">
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</div>
</div>

<div class="w-100 d-flex">
    <div class="rounded p-3" style="border: 1px solid #090909; background-color: white; margin-left: 32px;">
    <div class="d-flex">
    <i class="fa fa-clock-o inline-block mr-3" style="font-size:24px"></i>
    <p class="fw-bolder inline-block px-3">Test what you've learned with a quiz</p>
    </div>
    <p>Learning a little each day adds up. Research shows that students who reinforce their learnings are more likely to reach their goals. Challenge yourself and assess your understanding with an interactive quiz.</p>
    <a class="btn btn-dark" th:href="@{/quiz}">Get Started</a>
    </div>
    <div class="w-25 rounded p-3 ml-3" style="border: 1px solid #090909; background-color: white; margin-left: 32px;">
        <div class="d-flex w-100 h-100 p-2">
            <div>
            <p class="fw-bolder inline-block px-3 text-center">Course Progress:</p>
            <div class="d-flex justify-content-around px-3">
            <h1 id="progress-indicator">0</h1>
            <h1 class="px-2">%</h1>
            </div>
            </div>
            <!-- <div>
                <img src="https://illustrations.popsy.co/blue/digital-nomad.svg" height="100px" width="100px" />
            </div> -->
        </div>
    </div>
<!-- th:href="@{/courses/{id}/view-course/quiz(id=${courses.course_id})}" -->
<script>
    function loadVideo(videoId) {
      const videoFrame = document.getElementById("video-frame");
      videoFrame.src = "https://www.youtube.com/embed/" + videoId;
    }

    let module1 = 0;
    let module2 = 0;
    let module3 = 0;
    //https://illustrations.popsy.co/blue/student-in-the-classroom.svg
    //https://illustrations.popsy.co/blue/work-party.svg
    //https://illustrations.popsy.co/blue/app-launch.svg
    //https://illustrations.popsy.co/blue/digital-nomad.svg
    function markAsDone(module_num) {
        if(module_num == 1)
        {
            module1 = 1;
            document.getElementById("btn-1").innerText = "Done";
        }
        if(module_num == 2)
        {
            module2 = 1;
            document.getElementById("btn-2").innerText = "Done";
        }
        if(module_num == 3)
        {
            module3 = 1;
            document.getElementById("btn-3").innerText = "Done";
        }
        const indicator = document.getElementById("progress-indicator");
        const percValue = (((module1 + module2 + module3)/3) * 100).toFixed(2);
        indicator.innerText = percValue;

        return percValue;
    }
    </script>
</body>
</html>                            